# ‚è∞ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–º–∏–Ω—É—Ç–Ω—ã—Ö Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π Cron

## üéØ –¶–µ–ª—å

–û–±–æ–π—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ Vercel Hobby –ø–ª–∞–Ω–∞ (1 cron –≤ –¥–µ–Ω—å) –∏ –ø–æ–ª—É—á–∏—Ç—å **–ø–æ–º–∏–Ω—É—Ç–Ω—ã–µ** push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π cron —Å–µ—Ä–≤–∏—Å.

---

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (5 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ cron-job.org

1. –û—Ç–∫—Ä–æ–π—Ç–µ [cron-job.org](https://console.cron-job.org/signup)
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, –±–µ–∑ –∫–∞—Ä—Ç—ã)
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ Cron Job

1. –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –Ω–∞–∂–º–∏—Ç–µ **"Create cronjob"**
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:

**–ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
```
Title: Birthday Notifications
Address (URL): https://v0-birthday-reminder-app-liart.vercel.app/api/cron/check-birthdays
```

**Schedule:**
```
‚≠ê Every minute
   (–∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ * * * * * –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö)
```

**Request Settings:**
- Request method: **GET**
- Request timeout: **30 seconds**

**Headers:**
–ù–∞–∂–º–∏—Ç–µ **"Add header"** –∏ –¥–æ–±–∞–≤—å—Ç–µ:
```
Header name: Authorization
Header value: Bearer –í–ê–®_CRON_SECRET
```

> üìù **–ì–¥–µ –≤–∑—è—Ç—å CRON_SECRET:**
> - –û—Ç–∫—Ä–æ–π—Ç–µ [Vercel Dashboard](https://vercel.com/dashboard)
> - –í–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí Settings ‚Üí Environment Variables
> - –ù–∞–π–¥–∏—Ç–µ `CRON_SECRET`
> - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ

3. –ù–∞–∂–º–∏—Ç–µ **"Create cronjob"**

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞

1. –í —Å–ø–∏—Å–∫–µ cron jobs –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∞—à—É –∑–∞–¥–∞—á—É
2. –ù–∞–∂–º–∏—Ç–µ **"Run now"** –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **"Execution history"**
4. ‚úÖ –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç–∞—Ç—É—Å: **200 OK**

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è **–∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É**:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–Ω–µ–π —Ä–æ–∂–¥–µ–Ω–∏—è: –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 13:45)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –∫–∞–∂–¥–æ–≥–æ –∏–º–µ–Ω–∏–Ω–Ω–∏–∫–∞
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫

---

## üìä –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã cron-job.org

### 1. EasyCron
- **URL:** [easycron.com](https://www.easycron.com/)
- **–õ–∏–º–∏—Ç:** 100 –∑–∞–ø—É—Å–∫–æ–≤/–º–µ—Å—è—Ü –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- **–ú–∏–Ω–∏–º—É–º:** 1 –º–∏–Ω—É—Ç–∞

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
```
URL: https://v0-birthday-reminder-app-liart.vercel.app/api/cron/check-birthdays
Cron Expression: * * * * *
HTTP Method: GET
Custom Headers: Authorization: Bearer –í–ê–®_CRON_SECRET
```

### 2. GitHub Actions
- **URL:** –í–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- **–õ–∏–º–∏—Ç:** 2000 –º–∏–Ω—É—Ç/–º–µ—Å—è—Ü
- **–ú–∏–Ω–∏–º—É–º:** 5 –º–∏–Ω—É—Ç

**–§–∞–π–ª:** `.github/workflows/cron.yml`
```yaml
name: Birthday Notifications Cron
on:
  schedule:
    - cron: '*/5 * * * *' # –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
  workflow_dispatch: # –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger birthday check
        run: |
          curl -X GET \
            -H "Authorization: Bearer ${{ secrets.CRON_SECRET }}" \
            https://v0-birthday-reminder-app-liart.vercel.app/api/cron/check-birthdays
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ–∫—Ä–µ—Ç–∞:**
1. GitHub ‚Üí –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Üí Settings ‚Üí Secrets and variables ‚Üí Actions
2. New repository secret
3. Name: `CRON_SECRET`
4. Value: –≤–∞—à CRON_SECRET –∏–∑ Vercel

### 3. Render Cron Jobs
- **URL:** [render.com](https://render.com/)
- **–õ–∏–º–∏—Ç:** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- **–ú–∏–Ω–∏–º—É–º:** 1 –º–∏–Ω—É—Ç–∞

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
1. –°–æ–∑–¥–∞–π—Ç–µ Cron Job –Ω–∞ Render
2. Command: 
```bash
curl -X GET -H "Authorization: Bearer $CRON_SECRET" https://v0-birthday-reminder-app-liart.vercel.app/api/cron/check-birthdays
```
3. Schedule: `* * * * *`

### 4. UptimeRobot (–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞–∫ Cron)
- **URL:** [uptimerobot.com](https://uptimerobot.com/)
- **–õ–∏–º–∏—Ç:** 50 –º–æ–Ω–∏—Ç–æ—Ä–æ–≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- **–ú–∏–Ω–∏–º—É–º:** 5 –º–∏–Ω—É—Ç

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
1. Add New Monitor
2. Monitor Type: HTTP(s)
3. URL: –≤–∞—à endpoint
4. Monitoring Interval: 5 minutes
5. Custom HTTP Headers:
   ```
   Authorization: Bearer –í–ê–®_CRON_SECRET
   ```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –ì–ª–æ–±–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (–¥–ª—è –≤—Å–µ—Ö)

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**
3. –°–µ–∫—Ü–∏—è "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Ä–µ–º—è, –Ω–∞–ø—Ä–∏–º–µ—Ä **09:00**
5. –í–∫–ª—é—á–∏—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è

### –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É –∏–º–µ–Ω–∏–Ω–Ω–∏–∫–∞
2. –í–∫–ª—é—á–∏—Ç–µ "–í–∫–ª—é—á–∏—Ç—å –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ"
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Ä–µ–º—è, –Ω–∞–ø—Ä–∏–º–µ—Ä **13:45**
4. –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

**–¢–µ–ø–µ—Ä—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏–¥—ë—Ç —Ä–æ–≤–Ω–æ –≤ 13:45!** ‚è∞

---

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞ 401 Unauthorized

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π CRON_SECRET

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CRON_SECRET –≤ Vercel
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ: `Bearer –í–ê–®–Ü_–°–ï–ö–†–ï–¢` (–±–µ–∑ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤)
3. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ cron job

### –û—à–∏–±–∫–∞ 500 Internal Server Error

**–ü—Ä–∏—á–∏–Ω–∞:** –û—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ –∏–ª–∏ Firebase

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Vercel Dashboard ‚Üí Runtime Logs
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ FIREBASE_SERVICE_ACCOUNT_KEY –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### Cron –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Ç FCM —Ç–æ–∫–µ–Ω–æ–≤ –∏–ª–∏ Firebase –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–∑—Ä–µ—à–∏–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏–∑ –ù–∞—Å—Ç—Ä–æ–µ–∫
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É `fcm_tokens` –≤ Supabase
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ FIREBASE_SERVICE_ACCOUNT_KEY –≤ Vercel

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –≤–Ω–µ—à–Ω–µ–≥–æ cron

**cron-job.org:**
1. Dashboard ‚Üí –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Üí Execution history
2. –°–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç–∞—Ç—É—Å—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
3. HTTP 200 = —É—Å–ø–µ—à–Ω–æ

**GitHub Actions:**
1. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Üí Actions ‚Üí Workflow
2. –°–º–æ—Ç—Ä–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é –∑–∞–ø—É—Å–∫–æ–≤

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Vercel

1. [Vercel Dashboard](https://vercel.com/dashboard)
2. –ü—Ä–æ–µ–∫—Ç ‚Üí Deployments ‚Üí Runtime Logs
3. –ò—â–∏—Ç–µ: `[v0] Cron:` –¥–ª—è –ª–æ–≥–æ–≤

---

## ‚úÖ Checklist

- [ ] –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞ cron-job.org (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥)
- [ ] –°–æ–∑–¥–∞–Ω cron job —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º URL
- [ ] –î–æ–±–∞–≤–ª–µ–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ Authorization —Å CRON_SECRET
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω schedule `* * * * *` (–∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω "Run now" - —Å—Ç–∞—Ç—É—Å 200 OK
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –≤—Ä–µ–º—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- [ ] –¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –ª–æ–≥–∏ –≤ Vercel

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç **—Ä–æ–≤–Ω–æ –≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç **–∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É** (–Ω–µ —Ä–∞–∑ –≤ –¥–µ–Ω—å)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–≥–ª–æ–±–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è** –¥–ª—è –≤—Å–µ—Ö
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º—ë–Ω** (–ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è)
- ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω–æ**

**–ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —Ç–æ—á–Ω—ã–º–∏ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏! üéÇ**
